---
title: 定义跳转
createTime: 2025/01/08 20:58:14
permalink: /article/90x49t8x/
---

## 功能说明

代码设计中的“定义跳转”（Definition Jump 或 Go to Definition）功能是一种快速导航工具，允许开发者从调用位置直接跳转到代码中某个变量、函数、类等定义的具体位置。其主要目的和意义包括：

1. 提高导航效率：
   定义跳转帮助开发人员快速找到变量、函数或类的定义位置，而无需手动搜索代码文件。这对大型项目尤为重要，因为直接跳转功能可以大幅减少查找时间。
2. 增强代码理解力：
    通过跳转到定义，开发人员可以更轻松地了解调用的实现细节和作用，从而更好地理解代码逻辑，特别是处理第三方库、模块或他人编写的代码时。
3. 提高调试速度：
    当遇到错误或异常时，定义跳转可以快速定位到相关定义位置，从而更容易分析问题的根源并进行调试。这在复杂的调用链中尤为有用，省去手动定位的步骤。
4. 支持代码重构：
    在重构代码时，定义跳转能够帮助开发人员迅速找到原始定义位置，查看依赖关系，并确保变更的兼容性。这有助于在代码结构调整时保持代码一致性和正确性。
5. 提升学习效率：
    定义跳转功能使开发人员在学习新的代码库、框架或项目时能快速定位到关键代码的位置，从而加快熟悉速度。这对新手开发人员或接手新项目的人尤其有帮助。

## 使用说明

定义跳转的使用方式有以下几种：
1. 按住ctrl键（MAC cmd键），再鼠标左击标识符，便可进行跳转。
2. 选中标识符，按`F12`快捷键便可跳转。
3. 选中标识符，鼠标右击，选则`Go to Definition`，便可进行跳转。

定义跳转功能介绍如下：
1. 实现 `include \<path> 的path跳转，支持相对路径和绝对路径；
2. 实现 \`define 的宏定义跳转，并结合第一点支持`跨文件的宏定义跳转`；
3. 实现 限定的symbol的跳转，当前支持的跳转类型如下：
  - signal类型：wire | reg | logic
  - port类型：input | output | inout
  - param类型：parameter | localparam
4. 实现 针对instance内容的跳转，具体支持的跳转类型如下：
  - instance原定义的模块进行跳转，跳转到instance内容原定义的模块处；
  - instance下ports内容的定义跳转，和接入信号不同，是跳转到声明端口的定义处；
  - instance下params内容的定义跳转，和配置参数不同，是跳转到声明参数的定义处。
    ```verilog
    // 相关定义说明
    // instance内容原定义的模块
    module instModule #( 
            parameter param
        ) (
            input in,
            output out
        );  
        
    endmodule

    // 对instance内容里面的定义说明如下：
    instModule #(
        // .声明参数(配置参数)
        // 声明参数在instance内容原定义的模块中被定义；
        // 配置参数为具体数值或者在本文件中被定义。
        .param(10))
    u_instModule (  
        // .声明端口(接入信号)
        // 声明端口在instance内容原定义的模块中被定义；
        // 接入信号为具体数值或者在本文件中被定义。
        .in(in),
        .out(out)
    );
    ```

使用效果如下：

<!-- TODO: definition-jumps -->
<center>
<video width="90%" controls>  
  <source src="/videos/definition-jumps.mp4" type="video/mp4">  
  您的浏览器不支持视频标签。  
</video>
</center>

:::info
定义的跳转和悬停提示是挂钩的，如果悬停提示都无法生效则代表无法解析到该定义，跳转一定无法运行；可能有相应语法错误，或者当前不支持，需要后续补充（具体支持哪些定义，详见悬停提示的介绍页）。
:::